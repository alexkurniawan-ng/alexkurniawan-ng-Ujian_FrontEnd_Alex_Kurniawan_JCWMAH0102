(this["webpackJsonpshop-react"]=this["webpackJsonpshop-react"]||[]).push([[0],{118:function(e,t,a){e.exports=a.p+"static/media/logoA.8369382d.png"},135:function(e,t,a){e.exports=a.p+"static/media/logoBwhite.1406fabf.png"},137:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(28),c=a.n(r),o=(a(87),a(9)),s=a(10),i=a(12),u=a(11),m=a(16),d=(a(54),a(13)),p=a(143),E=a(144),h=a(145),g=a(76),f=a(146),v=a(147),b=a(148),y=a(173),S=a(149),C=a(174),O=a(150),k=a(75),N=a(26),P=a(172),x=a(138),w=a(139),R=a(140),j=a(141),I=a(142),T="http://localhost:2020",D=a(7),L=a.n(D),A=a(17),M=a(46),q=a.n(M),z=a(74),V=function(e){return{type:"LOGIN",payload:e}},G=function(){return function(){var e=Object(z.a)(q.a.mark((function e(t){var a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get(T+"/users/".concat(localStorage.getItem("id")));case 3:a=e.sent,t({type:"LOGIN",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("KeepLogin Error: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},U=function(e){return console.log("Action products",e),{type:"GET_PRODUCTS",payload:e}},F=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).btToggle=function(){n.setState({modalOpen:!n.state.modalOpen})},n.handleChange=function(e,t){console.log(e,t),n.setState(Object(N.a)({},e,t))},n.btLogin=function(){var e=n.state,t=e.username,a=e.password;if(""===t||""===a)n.setState({alertIsOpen:!n.state.alertIsOpen,alertColor:"warning",alertMessage:"Form cannot be Empty"});else{var l=t.includes("@")&&t.includes(".")?"email":"username";n.props.Login(l,t,a)}},n.state={username:"",password:"",modalOpen:!1,alertMessage:"",alertIsOpen:!1,alertColor:"",loginSuccess:!1},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return this.state.alertIsOpen?(setTimeout((function(){return e.setState({alertIsOpen:!e.state.alertIsOpen,modalOpen:!e.state.regisSuccess||!e.state.modalOpen})}),2e3),l.a.createElement(m.a,{to:"/"})):l.a.createElement(l.a.Fragment,null,l.a.createElement(k.a,{color:"primary",onClick:this.btToggle},"Login"),l.a.createElement(P.a,{isOpen:this.state.modalOpen},l.a.createElement(x.a,null,"Login"),l.a.createElement(w.a,null,l.a.createElement(R.a,{color:this.state.alertColor,isOpen:this.state.alertIsOpen},this.state.alertMessage),l.a.createElement(j.a,{type:"text",className:"my-3",placeholder:"Username/Email",onChange:function(t){return e.handleChange("username",t.target.value)}}),l.a.createElement(j.a,{type:"password",className:"my-3",placeholder:"Password",onChange:function(t){return e.handleChange("password",t.target.value)}})),l.a.createElement(I.a,null,l.a.createElement(k.a,{color:"success",onClick:this.btLogin},"Login"),l.a.createElement(k.a,{color:"secondary",onClick:this.btToggle},"Cancel"))))}}]),a}(l.a.Component),_=Object(A.b)(null,{login:V,Login:function(e,t,a){return function(n){L.a.get(T+"/users?".concat(e,"=").concat(t,"&password=").concat(a)).then((function(e){console.log("LOGIN Success",e.data),localStorage.setItem("id",e.data[0].id),n({type:"LOGIN",payload:e.data[0]})})).catch((function(e){console.log("LOGIN error",e)}))}}})(F),B=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).btLogout=function(){localStorage.removeItem("id"),a.props.logout()},a.getQty=function(){var e=0;return a.props.user.cart.forEach((function(t,a){e+=t.qty})),e},a.getUnique=function(){return a.props.user.cart.length},a.renderCart=function(){return a.props.cart.map((function(e,t){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4"},l.a.createElement("img",{height:"50px",src:e.images,alt:e.category})),l.a.createElement("div",{className:"col-8"},l.a.createElement("p",null,e.name),l.a.createElement("p",null,"Size: ",e.size),l.a.createElement("p",null,"Qty: ",e.qty),l.a.createElement("p",null,"Rp. ",e.totalPrice.toLocaleString())))}))},a.state={collapsed:!1,dropOpen:!1,cartOpen:!1},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.user;return l.a.createElement("div",null,l.a.createElement(p.a,{color:"faded",light:!0,expand:"md"},l.a.createElement(E.a,null,l.a.createElement(d.b,{to:"/",className:"nav-link"},l.a.createElement("img",{src:a(118),width:"50px",alt:"brand"}))),l.a.createElement(h.a,{onClick:function(){return e.setState({collapsed:!e.state.collapsed})},className:"mr-2"}),l.a.createElement(g.a,{isOpen:this.state.collapsed,navbar:!0},l.a.createElement(f.a,{className:"mr-auto",navbar:!0},l.a.createElement(v.a,null,l.a.createElement(d.b,{to:"/product",className:"nav-link"},"Product")),l.a.createElement(v.a,null,l.a.createElement(d.b,{to:"/about",className:"nav-link"},"About")),t.role&&"admin"===t.role?l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,null,l.a.createElement(d.b,{to:"/product-admin",className:"nav-link"},"PM")),l.a.createElement(v.a,null,l.a.createElement(d.b,{to:"/carousel-admin",className:"nav-link"},"CM"))):null,l.a.createElement("div",{style:{marginLeft:"70vw"}},t.id?"user"===t.role?l.a.createElement("div",{className:"d-flex"},l.a.createElement(b.a,{direction:"left",isOpen:this.state.cartOpen,toggle:function(){return e.setState({cartOpen:!e.state.cartOpen})}},l.a.createElement(y.a,{caret:!0},"\ud83d\uded2 ",l.a.createElement(S.a,{color:"danger"},this.getUnique())),l.a.createElement(C.a,null,this.renderCart(),l.a.createElement(O.a,{divider:!0}),l.a.createElement(O.a,null,l.a.createElement(d.b,{to:"/cart"},"Go To Cart")))),l.a.createElement(b.a,{isOpen:this.state.dropOpen,toggle:function(){return e.setState({dropOpen:!e.state.dropOpen})}},l.a.createElement(y.a,{caret:!0},t.username),l.a.createElement(C.a,null,l.a.createElement(O.a,null,"Profile"),l.a.createElement(O.a,null,l.a.createElement(d.b,{to:"/cart"},"Cart ",l.a.createElement(S.a,{color:"danger"},this.getQty()))),l.a.createElement(O.a,null,l.a.createElement(d.b,{to:"/transaction"},"Transaction")),l.a.createElement(O.a,{onClick:this.btLogout},"Log Out")))):l.a.createElement(b.a,{direction:"left",isOpen:this.state.dropOpen,toggle:function(){return e.setState({dropOpen:!e.state.dropOpen})}},l.a.createElement(y.a,{caret:!0},t.username),l.a.createElement(C.a,null,l.a.createElement(O.a,null,l.a.createElement(d.b,{to:"/product-admin",className:"nav-link"},"Product Management")),l.a.createElement(O.a,null,l.a.createElement(d.b,{to:"/transaction-admin",className:"nav-link"},"Transaction Management")),l.a.createElement(O.a,null,l.a.createElement(d.b,{to:"/carousel-admin",className:"nav-link"},"Slide Management")),l.a.createElement(O.a,{divider:!0}),l.a.createElement(O.a,{onClick:this.btLogout,style:{color:"red"}},"Log Out"))):l.a.createElement(l.a.Fragment,null,l.a.createElement(_,null),l.a.createElement(k.a,{color:"secondary",size:"small"},l.a.createElement(d.b,{to:{pathname:"/register"},style:{textDecoration:"none",color:"white"}},"Register"))))))))}}]),n}(l.a.Component),K=Object(A.b)((function(e){return console.log("cekDataCart",e.authReducer),{user:e.authReducer,cart:e.authReducer.cart,id:e.authReducer.id,product:e.productReducers}}),{logout:function(){return{type:"LOGOUT"}}})(B),W=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},"ini About")}}]),a}(l.a.Component),H=a(155),Q=a(51),X=a(79),J=a(151),Y=a(152),$=a(153),Z=a(154),ee=function(e){var t=Object(n.useState)(0),a=Object(Q.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(!1),s=Object(Q.a)(o,2),i=s[0],u=s[1],m=function(){if(!i){var t=r===e.carousel.length-1?0:r+1;c(t)}},d=function(){if(!i){var t=0===r?e.carousel.length-1:r-1;c(t)}},p=e.carousel.map((function(e,t){return l.a.createElement(X.a,{onExiting:function(){return u(!0)},onExited:function(){return u(!1)},key:t},l.a.createElement("img",{src:e.image,alt:"slide-".concat(t)}),l.a.createElement(J.a,{captionHeader:e.title}))}));return l.a.createElement(Y.a,{activeIndex:r,next:m,previous:d},l.a.createElement($.a,{items:e.carousel,activeIndex:r,onClickHandler:function(e){i||c(e)}}),p,l.a.createElement(Z.a,{direction:"prev",directionText:"Previous",onClickHandler:d}),l.a.createElement(Z.a,{direction:"next",directionText:"Next",onClickHandler:m}))},te=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getCarousel=function(){L.a.get(T+"/carousel").then((function(e){console.log("GET getCarousel: ",e.data),n.setState({dbCarousel:e.data})})).catch((function(e){console.log("ERR getCarousel: ",e)}))},n.state={dbCarousel:[]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getCarousel()}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(H.a,{className:"jumboBanner"},l.a.createElement("h1",{className:"display-3 py-5"},"Welcome to SIMPLE SHOP"),l.a.createElement("hr",{className:"my-2"}),l.a.createElement("p",null,"This is the new world of Sport"),l.a.createElement("p",{className:"lead"},l.a.createElement(k.a,{color:"primary",size:"sm"},"Shop Now"))),l.a.createElement(ee,{carousel:this.state.dbCarousel}))}}]),a}(l.a.Component),ae=a(156),ne=a(157),le=a(158),re=a(159),ce=a(160),oe=a(161),se=a(162),ie=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getProducts=function(e,t){var a=e?t?"/products?_sort=".concat(e,"&_order=").concat(t):"/products?category=".concat(e):"/products";L.a.get(T+a).then((function(e){console.log("GET Products: ",e.data),n.props.getProducts(e.data)})).catch((function(e){console.log("ERR getProducts: ",e)}))},n.renderProduct=function(){return console.log("cek variable products",n.state.dbProducts),console.log("cek state sortproduct",n.state.sortProduct),console.log(T+"/products?_sort=id&_order=desc"),n.props.products.map((function(e,t){return l.a.createElement(ae.a,{md:"4",key:t,className:"my-2"},l.a.createElement(ne.a,null,l.a.createElement(d.b,{to:"/product-detail?id=".concat(e.id)},l.a.createElement(le.a,{top:!0,width:"25%",src:e.images[0]}),l.a.createElement(re.a,null,l.a.createElement(ce.a,{style:{height:"10vh"}},e.name),l.a.createElement(oe.a,{className:"text-muted"},"Rp. ",e.price.toLocaleString(),",-")))))}))},n.btSort=function(){var e=n.sort1.value,t=n.sort2.value;console.log(e,t),L.a.get(T+"/products?_sort=id&_order=desc").then((function(e){console.log("GET Products: ",e.data),n.setState({dbProducts:e.data}),n.renderProduct()})).catch((function(e){console.log("ERR getProducts: ",e)}))},n.state={isOpen:"false",sortProduct:"default"},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getProducts()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"d-flex"},l.a.createElement(k.a,{color:"primary",onClick:function(){return e.getProducts()}},"All Product"),l.a.createElement(b.a,{isOpen:!this.state.isOpen,toggle:function(){return e.setState({isOpen:!e.state.isOpen})}},l.a.createElement(y.a,{color:"primary",caret:!0}),l.a.createElement(C.a,null,l.a.createElement(O.a,{onClick:function(){return e.getProducts("Shoes")}},"Shoes"),l.a.createElement(O.a,{onClick:function(){return e.getProducts("Clothing")}},"Clothing"))),l.a.createElement("div",{className:"ml-5"},l.a.createElement(se.a,null,l.a.createElement(j.a,{type:"select",innerRef:function(t){return e.sort1=t}},l.a.createElement("option",null,"asc"),l.a.createElement("option",null,"desc")),l.a.createElement(j.a,{type:"select",innerRef:function(t){return e.sort2=t}},l.a.createElement("option",null,"id"),l.a.createElement("option",null,"name"),l.a.createElement("option",null,"price")),l.a.createElement(k.a,{onClick:function(){return e.getProducts(e.sort2.value,e.sort1.value)}},"OK")))),l.a.createElement("div",{className:"row"},this.renderProduct()))}}]),a}(l.a.Component),ue=Object(A.b)((function(e){var t=e.productReducers;return console.log("mapstate",t),{products:t}}),{getProducts:U})(ie),me=a(163),de=a(164),pe=a(165),Ee=a(166),he=a(167),ge=a(168),fe=a(19),ve=a.n(fe),be=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleChange=function(e,t){var n=/[a-z]/i,l=/[0-9]/,r=/[!@#$%^&*():;]/;console.log(e,n.test(t)),a.setState(Object(N.a)({},e,t)),"username"===e?(a.setState({userValid:!(!n.test(t)||!l.test(t)),userInvalid:!n.test(t)||!l.test(t)}),L.a.get(T+"/users?username=".concat(t)).then((function(e){e.data.length>0?a.setState({userMessage:"Username already Exist",userValid:!1}):a.setState({userMessage:"Username Invalid"})})).catch((function(e){console.log(e)}))):"email"===e?(a.setState({emailValid:!!(n.test(t)&&/(.id|.com|.org|.co.id|.edu|.tech)/.test(t)&&t.includes("@"))}),L.a.get(T+"/users?email=".concat(t)).then((function(e){e.data.length>0?(a.setState({emailMessage:"Email already Exist",emailValid:!1}),console.log("cek email exist")):a.setState({emailMessage:"Email Invalid"})})).catch((function(e){console.log(e)}))):"password"===e&&(n.test(t)&&!l.test(t)&&!r.test(t)&&t.length>3?a.setState({passValue:30,passLvl:"Weak",passNotif:"danger"}):n.test(t)&&l.test(t)&&!r.test(t)&&t.length>3||n.test(t)&&!l.test(t)&&r.test(t)&&t.length>3?a.setState({passValue:50,passLvl:"Medium",passNotif:"warning"}):n.test(t)&&l.test(t)&&r.test(t)&&t.length>7?a.setState({passValue:100,passLvl:"Strong",passNotif:"success"}):n.test(t)&&l.test(t)&&r.test(t)&&t.length>5?a.setState({passValue:80,passLvl:"Strong",passNotif:"success"}):!n.test(t)&&!l.test(t)&&r.test(t)&&t.length>3||!n.test(t)&&l.test(t)&&!r.test(t)&&t.length>3?a.setState({passValue:30,passLvl:"Weak",passNotif:"danger"}):a.setState({passValue:0,passLvl:"",passNotif:""}))},a.btRegister=function(){var e=a.state,t=e.username,n=e.email,l=e.phone,r=e.password,c=e.confPassword,o=e.userValid,s=e.emailValid;""===t||""===n||""===l||""===r||""===c?ve.a.fire({icon:"error",title:"Oops...",text:"Fill in the form"}):r===c&&o&&s?L.a.get(T+"/users?username=".concat(t)).then((function(e){console.log("cek search username: ",e.data),0===e.data.length?L.a.post(T+"/users",{username:t,email:n,phone:l,password:r,role:"user",cart:[]}).then((function(e){console.log("RES btRegister: ",e.data),a.setState({redirect:!0}),ve.a.fire({icon:"success",title:"Congratulations",text:"Register Success"})})).catch((function(e){console.log("ERR btRegister: ",e)})):ve.a.fire({icon:"error",title:"Oppsss",text:"User already Exist"})})).catch((function(e){console.log("ERR get search username",e)})):ve.a.fire({icon:"error",title:"Oops...",text:"Your Password not Match"})},a.state={username:"",email:"",password:"",confPassword:"",userValid:!1,userInvalid:!1,emailValid:!1,passValue:0,passLvl:"",passNotif:"",userMessage:"Username Invalid",emailMessage:"Email Invalid"},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return this.state.redirect?l.a.createElement(m.a,{to:"/"}):l.a.createElement("div",{className:"container"},l.a.createElement(H.a,{className:"my-5",style:{backgroundColor:"#404146"}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 col-sm-7"},l.a.createElement("img",{src:a(135),alt:"logo",width:"100%",style:{margin:"10% auto"}}),l.a.createElement("hr",{style:{backgroundColor:"white"}})),l.a.createElement("div",{className:"col-12 col-sm-5"},l.a.createElement(me.a,null,l.a.createElement(de.a,null,l.a.createElement(pe.a,{className:"text-white"},"Username"),l.a.createElement(j.a,{type:"text",innerRef:function(t){return e.username=t},onChange:function(t){return e.handleChange("username",t.target.value)},valid:this.state.userValid,invalid:this.state.username.length>0&&!this.state.userValid}),l.a.createElement(Ee.a,{valid:!0},"Username Valid"),l.a.createElement(Ee.a,null,this.state.userMessage),l.a.createElement(he.a,{color:"white"},"Username must contains alphabet and number")),l.a.createElement(de.a,null,l.a.createElement(pe.a,{className:"text-white"},"Email"),l.a.createElement(j.a,{type:"text",innerRef:function(t){return e.email=t},onChange:function(t){return e.handleChange("email",t.target.value)},valid:this.state.emailValid,invalid:!this.state.emailValid}),l.a.createElement(Ee.a,{valid:!0},"Email Format Valid"),l.a.createElement(Ee.a,null,this.state.emailMessage)),l.a.createElement(de.a,null,l.a.createElement(pe.a,{className:"text-white"},"Phone"),l.a.createElement(j.a,{type:"text",innerRef:function(t){return e.phone=t},onChange:function(t){return e.handleChange("phone",t.target.value)}})),l.a.createElement(de.a,null,l.a.createElement(pe.a,{className:"text-white"},"Password"),l.a.createElement(j.a,{type:"password",placeholder:"Min. 6 Char (abjad, number, symbol)",innerRef:function(t){return e.password=t},onChange:function(t){return e.handleChange("password",t.target.value)}}),this.state.password.length>3&&l.a.createElement(ge.a,{value:this.state.passValue,color:this.state.passNotif},this.state.passLvl)),l.a.createElement(de.a,null,l.a.createElement(pe.a,{className:"text-white"},"Confirm Password"),l.a.createElement(j.a,{type:"password",innerRef:function(t){return e.confPassword=t},onChange:function(t){return e.handleChange("confPassword",t.target.value)}}))),l.a.createElement(k.a,{outline:!0,color:"info",onClick:this.btRegister},"Register")))))}}]),n}(l.a.Component),ye=a(169),Se=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getProductDetail=function(){console.log(n.props.location.search),L.a.get(T+"/products".concat(n.props.location.search)).then((function(e){console.log("GET productDetail: ",e.data),n.setState({detail:e.data[0]})})).catch((function(e){console.log("ERR getProductDetail: ",e)}))},n.renderThumbnail=function(e){return e.map((function(e,t){return l.a.createElement("div",{className:"flex-grow-1 select-image",onClick:function(){n.setState({thumbnail:t})},style:{padding:"0 1px"}},l.a.createElement("img",{src:e,key:t,width:"100%"}))}))},n.renderStock=function(e){return e.map((function(e,t){return l.a.createElement(k.a,{disabled:0===e.total&&!0,onClick:function(){return n.setState({total:e.total,size:e.code})},key:t},e.code)}))},n.btIncrement=function(){n.state.qty<n.state.total?n.setState({qty:n.state.qty+=1}):alert("out of stock")},n.btAddToCart=function(){console.log("Add to Cart",n.state.detail.id,n.state.detail.price,n.state.qty);var e=n.state.detail.id,t=n.state.detail.name,a=n.state.detail.images[0],l=n.state.detail.category,r=n.state.size,c=parseInt(n.state.detail.price),o=n.state.qty,s=o*c,i=localStorage.getItem("id");n.state.detail.forEach((function(e,t){n.props.product.forEach((function(t,a){e.idProduct===t.id&&console.log("sama",e.idProduct,t.id)}))})),n.props.cart.push({idProduct:e,name:t,images:a,category:l,size:r,price:c,qty:o,totalPrice:s}),L.a.patch(T+"/users/".concat(i),{cart:n.props.cart}).then((function(e){console.log("SUCCESS addtoCart: ",e.data),n.setState({redirectStatus:!0})})).catch((function(e){console.log("ERR addtoCart: ",e)}))},n.state={detail:{},thumbnail:0,total:0,size:"",qty:0,hargaTotal:0},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getProductDetail()}},{key:"render",value:function(){var e=this,t=this.state,a=t.detail,n=t.thumbnail;return this.state.redirectStatus?l.a.createElement(m.a,{to:"/cart"}):l.a.createElement("div",{className:"container"},a.id&&l.a.createElement(H.a,{className:"row"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("img",{src:a.images[n],width:"100%"}),l.a.createElement("div",{className:"d-flex mt-1"},this.renderThumbnail(a.images))),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("div",{className:"row mb-3"},l.a.createElement("div",{className:"col-md-7"},l.a.createElement("h3",{className:"font-italic"},a.name)),l.a.createElement("div",{className:"col-md-5"},l.a.createElement("h3",{className:"font-weight-bold"},"IDR. ",parseInt(a.price).toLocaleString()))),l.a.createElement("div",{className:"row mb-3"},l.a.createElement("div",{className:"col-md-3"},l.a.createElement("h6",{className:"text-muted font-weight-bold"},"Brand"),l.a.createElement("h5",null,a.brand)),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("h6",{className:"text-muted font-weight-bold"},"Category"),l.a.createElement("h5",null,a.category)),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h6",{className:"text-muted font-weight-bold"},"Colour"),l.a.createElement("h5",null,a.colour))),l.a.createElement("p",{className:"text-justify"},a.description),l.a.createElement("div",{className:"text-center"},l.a.createElement(ye.a,null,this.renderStock(a.stock)),0!==this.state.total?this.state.total<=1?l.a.createElement("p",{style:{color:"red"}},"Last Stock!"):l.a.createElement("p",null,"Stock Available: ",this.state.total):l.a.createElement("p",{className:"text-muted"},"click size to display stock")),l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement(k.a,{outline:!0,color:"primary",onClick:function(){return e.setState({qty:e.state.qty>0?e.state.qty-=1:0})}},"-"),l.a.createElement(j.a,{className:"text-center",value:this.state.qty,style:{width:"50px"}}),l.a.createElement(k.a,{outline:!0,color:"primary",onClick:this.btIncrement},"+")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8"},l.a.createElement("h4",null,"IDR: ",(this.state.qty*a.price).toLocaleString())),l.a.createElement("div",{className:"col-md-4"},l.a.createElement(k.a,{color:"success",style:{float:"right"},onClick:this.btAddToCart},"Add to Cart"))))))}}]),a}(l.a.Component),Ce=Object(A.b)((function(e){return console.log("Cek Data",e.authReducer),{cart:e.authReducer.cart,product:e.productReducers}}))(Se),Oe=a(81),ke=a(170),Ne=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){console.log(e,t),n.setState(Object(N.a)({},e,t))},n.btSubmit=function(){console.table(n.state);var e=[],t=[],a=n.state,l=a.name,r=a.brand,c=a.category,o=a.colour,s=a.description,i=a.price;""===l||""===r||""===c||""===o||""===s||""===i?ve.a.fire({icon:"error",title:"Oops...",text:"Please Fill all Form",footer:"<a href>Why do I have this issue?</a>"}):(n.state["size".concat(n.state.category)].forEach((function(t,a){e.push({code:t.toString(),total:""===n["code".concat(t)].value?0:parseInt(n["code".concat(t)].value)})})),n.state.listGambar.forEach((function(e,a){n[e].value.length>0&&t.push(n[e].value)})),L.a.post(T+"/products",{name:l,category:c,brand:r,colour:o,description:s,price:i,stock:e,images:t}).then((function(e){console.log("RES btSubmit Addproduct: ",e.data),n.props.getProduct(),ve.a.fire({icon:"success",title:"Congratulations",text:"Product Successfully Added"}),n.setState({modalOpen:!n.state.modalOpen})})).catch((function(e){console.log("ERR Post AddProduct",e)}))),console.table(e),console.table(t)},n.renderInputStock=function(){var e=n.state.category;return""===e?l.a.createElement("h5",null,"Waiting Category"):n.state["size".concat(e)].map((function(e,t){return l.a.createElement(de.a,{key:t},l.a.createElement(pe.a,null,e),l.a.createElement(j.a,{type:"number",innerRef:function(t){return n["code".concat(e)]=t}}))}))},n.state={modalOpen:!1,name:"",image:"",brand:"",category:"",colour:"",description:"",price:0,sizeShoes:[38,39,40,41,42],sizeClothing:["S","M","L","XL","XXL"],listGambar:["images1","images2","images3","images4","images5"]},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state.modalOpen;return l.a.createElement("div",{style:{float:"right",marginRight:"2vw"}},l.a.createElement(k.a,{color:"info",onClick:function(){return e.setState({modalOpen:!t})},toggle:!0},"Add Product"),l.a.createElement(P.a,{isOpen:t},l.a.createElement(x.a,null,"Add Product"),l.a.createElement(w.a,null,l.a.createElement(de.a,null,l.a.createElement(pe.a,null,"Name"),l.a.createElement(j.a,{type:"text",onChange:function(t){e.handleChange("name",t.target.value)}})),l.a.createElement(de.a,null,l.a.createElement(pe.a,null,"Image"),l.a.createElement("div",{className:"d-flex flex-wrap"},this.state.listGambar.map((function(t,a){return l.a.createElement(j.a,{style:{width:"30%"},placeholder:"Images ".concat(a+1),type:"text",innerRef:function(a){return e[t]=a}})})))),l.a.createElement(de.a,{className:"row"},l.a.createElement(de.a,{className:"col-4"},l.a.createElement(pe.a,null,"Brand"),l.a.createElement(j.a,{type:"text",onChange:function(t){e.handleChange("brand",t.target.value)}})),l.a.createElement(de.a,{className:"col-4"},l.a.createElement(pe.a,null,"Category"),l.a.createElement(j.a,{type:"select",placeholder:"choose category",onChange:function(t){e.handleChange("category",t.target.value)}},l.a.createElement("option",null,"Shoes"),l.a.createElement("option",null,"Clothing"))),l.a.createElement(de.a,{className:"col-4"},l.a.createElement(pe.a,null,"Colour"),l.a.createElement(j.a,{type:"text",onChange:function(t){e.handleChange("colour",t.target.value)}}))),l.a.createElement(de.a,null,l.a.createElement(pe.a,null,"Description"),l.a.createElement(j.a,{type:"textarea",onChange:function(t){e.handleChange("description",t.target.value)}})),l.a.createElement(de.a,null,l.a.createElement(pe.a,null,"Stock"),l.a.createElement("div",{className:"d-flex"},this.renderInputStock())),l.a.createElement(de.a,null,l.a.createElement(pe.a,null,"Price"),l.a.createElement(j.a,{type:"number",onChange:function(t){e.handleChange("price",parseInt(t.target.value))}}))),l.a.createElement(I.a,null,l.a.createElement(k.a,{color:"success",onClick:this.btSubmit},"Submit"),l.a.createElement(k.a,{color:"warning",onClick:function(){return e.setState({modalOpen:!t})}},"Cancel"))))}}]),a}(l.a.Component),Pe=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){n.setState(Object(N.a)({},e,t))},n.renderInputStock=function(){var e=n.state,t=e.category,a=e.stock;return n.state["size".concat(t)].map((function(e,t){return l.a.createElement(de.a,null,l.a.createElement(pe.a,null,e),l.a.createElement(j.a,{type:"number",defaultValue:a[t].total,innerRef:function(t){return n["code".concat(e)]=t}}))}))},n.btSave=function(e){var t=n.state,a=t.name,l=t.brand,r=t.colour,c=t.category,o=t.price,s=t.description,i=t.stock,u=t.images,m=t.listGambar;n.state["size".concat(c)].forEach((function(e,t){i.splice(t,1,{code:e,total:parseInt(n["code".concat(e)].value)})})),m.forEach((function(e,t){u.splice(t,1,n[e].value)})),L.a.patch(T+"/products/".concat(e),{name:a,brand:l,colour:r,category:c,price:o,description:s,images:u,stock:i}).then((function(e){console.log("PATCH btSave: ",e.data),n.props.getProducts(),n.props.editClose(),ve.a.fire({icon:"success",title:"Success",text:"Product Successfully Updated"})})).catch((function(e){console.log("ERR btSave: ",e)}))},n.state={id:e.data.id,name:e.data.name,brand:e.data.brand,category:e.data.category,colour:e.data.colour,description:e.data.description,price:e.data.price,stock:e.data.stock,images:e.data.images,sizeShoes:[38,39,40,41,42],sizeClothing:["S","M","L","XL","XXL"],listGambar:["images1","images2","images3","images4","images5"]},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this;console.log("cek edit: ",this.state.stock);var t=this.state,a=t.id,n=t.name,r=t.brand,c=t.colour,o=t.category,s=t.price,i=t.description,u=t.images,m=t.listGambar;return l.a.createElement("div",null,l.a.createElement(P.a,{isOpen:this.props.editOpen},l.a.createElement(x.a,null,"Edit ",this.props.selectedIdx+1),l.a.createElement(w.a,null,l.a.createElement(me.a,null,l.a.createElement(de.a,null,l.a.createElement(pe.a,null,"Name"),l.a.createElement(j.a,{value:n,type:"text",onChange:function(t){return e.handleChange("name",t.target.value)}})),l.a.createElement(de.a,null,l.a.createElement(pe.a,null,"Images"),l.a.createElement("div",{className:"d-flex flex-wrap"},m.map((function(t,a){return l.a.createElement(j.a,{style:{width:"30%"},type:"text",defaultValue:u[a],innerRef:function(a){return e[t]=a}})})))),l.a.createElement("div",{className:"row"},l.a.createElement(de.a,{className:"col-md-4"},l.a.createElement(pe.a,null,"Brand"),l.a.createElement(j.a,{value:r,type:"text",onChange:function(t){return e.handleChange("brand",t.target.value)}})),l.a.createElement(de.a,{className:"col-md-4"},l.a.createElement(pe.a,null,"Category"),l.a.createElement(j.a,{type:"select",value:o,onChange:function(t){return e.handleChange("brand",t.target.value)}},l.a.createElement("option",null,"Select..."),l.a.createElement("option",{value:"Shoes"},"Shoes"),l.a.createElement("option",{value:"Clothing"},"Clothing"))),l.a.createElement(de.a,{className:"col-md-4"},l.a.createElement(pe.a,null,"Colour"),l.a.createElement(j.a,{value:c,type:"text",onChange:function(t){return e.handleChange("colour",t.target.value)}}))),l.a.createElement(de.a,null,l.a.createElement(pe.a,null,"Description"),l.a.createElement(j.a,{value:i,type:"textarea",onChange:function(t){return e.handleChange("description",t.target.value)}})),l.a.createElement(de.a,null,l.a.createElement(pe.a,null,"Stock"),l.a.createElement("div",{className:"d-flex"},this.renderInputStock())),l.a.createElement(de.a,null,l.a.createElement(pe.a,null,"Price"),l.a.createElement(j.a,{value:s,type:"number",onChange:function(t){return e.handleChange("price",parseInt(t.target.value))}})))),l.a.createElement(I.a,null,l.a.createElement(k.a,{color:"success",onClick:function(){return e.btSave(a)}},"Save"),l.a.createElement(k.a,{color:"secondary",onClick:this.props.editClose},"Cancel"))))}}]),a}(l.a.Component),xe=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).renderStock=function(e){return e.map((function(e,t){return l.a.createElement("h6",{key:t},l.a.createElement(S.a,{color:"primary"},"size ",e.code," | stock : ",e.total))}))},n.btDelete=function(e){console.log("CEK btDelete id:",e),L.a.delete(T+"/products/".concat(e)).then((function(e){console.log("DELETE btDelete: ",e.data),n.getProducts()})).catch((function(e){console.log("ERR btDelete: ",e)}))},n.renderProducts=function(e){var t=Object(Oe.a)(n.props.products);console.log("cek variable products",t);for(var a=0,r=0;r<t.length;r++){for(var c=0;c<t[r].stock.length;c++)a+=t[r].stock[c].total;t[r].totalStock=a,a=0}return console.log("after forloops",t),"asc"===e?t.sort((function(e,t){return e.name>t.name?1:e.name===t.name?0:-1})):"desc"===e?t.sort((function(e,t){return e.name<t.name?1:e.name===t.name?0:-1})):"stockAsc"===e?t.sort((function(e,t){return e.totalStock>t.totalStock?1:e.totalStock===t.totalStock?0:-1})):"stockDesc"===e?t.sort((function(e,t){return e.totalStock<t.totalStock?1:e.totalStock===t.totalStock?0:-1})):"priceAsc"===e?t.sort((function(e,t){return e.price>t.price?1:e.price===t.price?0:-1})):"priceDesc"===e&&t.sort((function(e,t){return e.price<t.price?1:e.price===t.price?0:-1})),t.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("th",null,t+1),l.a.createElement("td",null,l.a.createElement(d.b,{to:"/product-detail?id=".concat(e.id)},l.a.createElement("img",{src:e.images[0],height:"200px"}))),l.a.createElement("td",null,l.a.createElement(d.b,{to:"/product-detail?id=".concat(e.id)},e.name)),l.a.createElement("td",null,e.brand),l.a.createElement("td",null,e.category),l.a.createElement("td",null,e.colour.toLowerCase()),l.a.createElement("td",{className:"text-justify font-italic"},e.description.slice(0,80),l.a.createElement("span",{className:"text-muted"},"[...]")),l.a.createElement("td",null,n.renderStock(e.stock),l.a.createElement(S.a,{color:"danger"},"Total Stock : ",e.totalStock)),l.a.createElement("td",null,"IDR. ",e.price.toLocaleString()),l.a.createElement("td",null,l.a.createElement(k.a,{color:"warning",onClick:function(){return n.setState({editOpen:!n.state.editOpen,selectedIdx:t})}},"Edit"),l.a.createElement(k.a,{color:"danger",onClick:function(){return n.btDelete(e.id)}},"Delete")))}))},n.state={selectedIdx:null,editOpen:!1,total:0,sortProduct:"default",isOpen:"false"},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container"},l.a.createElement("h3",{className:"text-center my-3"},"Products Management"),l.a.createElement(b.a,{direction:"right",isOpen:!this.state.isOpen,toggle:function(){return e.setState({isOpen:!e.state.isOpen})}},l.a.createElement(y.a,{caret:!0},"Sort by"),l.a.createElement(C.a,null,l.a.createElement(O.a,{onClick:function(){e.setState({sortProduct:"default"})}},"Default"),l.a.createElement(O.a,{divider:!0}),l.a.createElement(O.a,{onClick:function(){e.setState({sortProduct:"asc"})}},"Ascending"),l.a.createElement(O.a,{onClick:function(){e.setState({sortProduct:"desc"})}},"Descending"),l.a.createElement(O.a,{divider:!0}),l.a.createElement(O.a,{onClick:function(){e.setState({sortProduct:"stockAsc"})}},"Smallest Amount Stock"),l.a.createElement(O.a,{onClick:function(){e.setState({sortProduct:"stockDesc"})}},"Largest Amount Stock"),l.a.createElement(O.a,{divider:!0}),l.a.createElement(O.a,{onClick:function(){e.setState({sortProduct:"priceAsc"})}},"Cheapest"),l.a.createElement(O.a,{onClick:function(){e.setState({sortProduct:"priceDesc"})}},"Expensive"))),l.a.createElement(Ne,{getProduct:this.getProducts}),l.a.createElement(ke.a,{hover:!0},l.a.createElement("thead",null,l.a.createElement("th",null,"No."),l.a.createElement("th",null,"Image"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Brand"),l.a.createElement("th",null,"Category"),l.a.createElement("th",null,"Colour"),l.a.createElement("th",null,"Description"),l.a.createElement("th",null,"Stock"),l.a.createElement("th",null,"Price"),l.a.createElement("th",null,"Action")),l.a.createElement("tbody",null,this.renderProducts(this.state.sortProduct))),null!==this.state.selectedIdx&&l.a.createElement(Pe,{editOpen:this.state.editOpen,editClose:function(){return e.setState({editOpen:!e.state.editOpen,selectedIdx:null})},selectedIdx:this.state.selectedIdx,data:this.props.products[this.state.selectedIdx],getProducts:this.getProducts}))}}]),a}(l.a.Component),we=Object(A.b)((function(e){var t=e.productReducers;return console.log("mapstate",t),{products:t}}),{getProducts:U})(xe),Re=function(e){return l.a.createElement("h1",{className:"text-center"},"PAGE NOT FOUND")},je=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getCarousel=function(e){var t=e?"/carousel?_sort=title&_order=".concat(e):"/carousel";L.a.get(T+t).then((function(e){console.log("RES getCarousel: ",e.data),n.props.getSlide(e.data),console.log("cek getSlide",n.props.getSlide)})).catch((function(e){console.log("ERR getCarousel: ",e)}))},n.renderCardSlide=function(){return n.props.slides.map((function(e,t){return l.a.createElement(ne.a,{className:"col-md-4",key:t},l.a.createElement(le.a,{height:"200px",src:e.image,alt:t}),l.a.createElement(re.a,null,l.a.createElement(ce.a,null,'"',e.title,'"'),l.a.createElement(k.a,{style:{marginRight:5},color:"warning",onClick:function(){return n.btEdit(t)}},"Edit"),l.a.createElement(k.a,{color:"danger",onClick:function(){return n.btDelete(e.id)}},"Delete")))}))},n.btDelete=function(e){L.a.delete(T+"/carousel/".concat(e)).then((function(e){console.log("SUCCESS btDelete",e.data),n.getCarousel()})).catch((function(e){console.log("ERR btDeleteSlide",e)}))},n.btEdit=function(e){n.setState({selectedIdx:e,modalOpen:!n.state.modalOpen}),console.log(e)},n.btSave=function(e){var t=n.slideImg.value,a=n.slideTitle.value;L.a.patch(T+"/carousel/".concat(e),{image:t,title:a}).then((function(e){console.log("Edit Success",e.data),n.getCarousel(),n.setState({modalOpen:!n.state.modalOpen})})).catch((function(e){console.log("ERR btSaveSlide",e)}))},n.btSaveNewSlide=function(){var e=n.newSlideImg.value,t=n.newSlideTitle.value;L.a.post(T+"/carousel",{image:e,title:t}).then((function(e){console.log("New Slide Success",e.data),n.getCarousel(),n.setState({newSlideOpen:!n.state.newSlideOpen})})).catch((function(e){console.log("ERR newSlide",e)}))},n.state={selectedIdx:null,modalOpen:!1,dropOpen:!1,newSlideOpen:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getCarousel()}},{key:"render",value:function(){var e=this,t=this.state,a=t.modalOpen,n=(t.dbCarousel,t.selectedIdx);return l.a.createElement("div",{className:"container"},l.a.createElement("h3",{className:"text-center my-3"},"Slide Management"),l.a.createElement(k.a,{className:"mb-2",color:"info",onClick:function(){return e.setState({newSlideOpen:!e.state.newSlideOpen})}},"Add New Slide"),l.a.createElement(P.a,{isOpen:this.state.newSlideOpen},l.a.createElement(x.a,{toggle:function(){return e.setState({newSlideOpen:!e.state.newSlideOpen})}},"Add New Slide"),l.a.createElement(w.a,null,l.a.createElement(me.a,null,l.a.createElement(j.a,{className:"mb-2",type:"text",placeholder:"Slide Image",innerRef:function(t){return e.newSlideImg=t}}),l.a.createElement(j.a,{type:"text",placeholder:"Slide Title",innerRef:function(t){return e.newSlideTitle=t}}))),l.a.createElement(I.a,null,l.a.createElement(k.a,{color:"success",onClick:this.btSaveNewSlide},"Save"),l.a.createElement(k.a,{color:"secondary",onClick:function(){return e.setState({newSlideOpen:!e.state.newSlideOpen})}},"Cancel"))),l.a.createElement(b.a,{className:"mb-2",isOpen:this.state.dropOpen,toggle:function(){return e.setState({dropOpen:!e.state.dropOpen})}},l.a.createElement(y.a,{caret:!0},"Sort"),l.a.createElement(C.a,null,l.a.createElement(O.a,{onClick:function(){return e.getCarousel("asc")}},"Ascending"),l.a.createElement(O.a,{onClick:function(){return e.getCarousel("desc")}},"Descending"))),l.a.createElement("div",{className:"row"},this.renderCardSlide()),null!==n&&l.a.createElement(P.a,{isOpen:a},l.a.createElement(x.a,null,"Edit Slide"),l.a.createElement(w.a,null,l.a.createElement(me.a,null,l.a.createElement(j.a,{type:"text",placeholder:"Slide Image",defaultValue:this.props.slides[n].image,innerRef:function(t){return e.slideImg=t}}),l.a.createElement(j.a,{type:"text",placeholder:"Slide Title",defaultValue:this.props.slides[n].title,innerRef:function(t){return e.slideTitle=t}}))),l.a.createElement(I.a,null,l.a.createElement(k.a,{color:"success",onClick:function(){return e.btSave(e.props.slides[n].id)}},"Save"),l.a.createElement(k.a,{color:"secondary",onClick:function(){return e.setState({modalOpen:!e.state.modalOpen,selectedIdx:null})}},"Cancel"))))}}]),a}(l.a.Component),Ie=Object(A.b)((function(e){return console.log("mapstate slides",e.slideReducer.slide),{slides:e.slideReducer.slide}}),{getSlide:function(e){return console.log("Action Slides",e),{type:"GET_SLIDE",payload:e}}})(je),Te=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).refreshCart=function(){L.a.patch(T+"/users/".concat(n.props.id),{cart:n.props.cart}).then((function(e){console.log("SUCCESS Refresh",e.data),localStorage.setItem("id",e.data.id),n.props.login(e.data)})).catch((function(e){console.log("ERR Refresh",e)}))},n.btIncrement=function(e){n.props.cart[e].qty+=1,n.props.cart[e].totalPrice=n.props.cart[e].price*n.props.cart[e].qty,console.log(n.props.cart[e].qty),n.refreshCart()},n.btDecrement=function(e){n.props.cart[e].qty-=1,n.props.cart[e].totalPrice=n.props.cart[e].price*n.props.cart[e].qty,console.log(n.props.cart[e].qty),n.refreshCart()},n.renderCart=function(){return n.props.cart.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("th",null,t+1),l.a.createElement("td",null,l.a.createElement("img",{src:e.images,alt:e.category,height:"100px"})),l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.category),l.a.createElement("td",null,e.size),l.a.createElement("div",{className:"d-flex"},l.a.createElement(k.a,{onClick:function(){return n.btDecrement(t)}},"-"),"\xa0",l.a.createElement("p",null,e.qty),"\xa0",l.a.createElement(k.a,{onClick:function(){return n.btIncrement(t)}},"+")),l.a.createElement("td",null,e.price.toLocaleString()),l.a.createElement("td",null,e.totalPrice.toLocaleString()),l.a.createElement("th",null,l.a.createElement(k.a,{color:"danger",onClick:function(){return n.btDelete(t)}},"Delete")))}))},n.btDelete=function(e){n.props.cart.splice(e,1),n.refreshCart()},n.totalPayment=function(){var e=0;return n.props.cart.forEach((function(t){e+=t.totalPrice})),e.toLocaleString()},n.decrementStock=function(e,t){L.a.patch(T+"/products/".concat(e),t).then((function(e){console.log("decrementStock Success",e.data)})).catch((function(e){console.log("decrementStock Error",e)}))},n.btCheckout=function(){var e=new Date,t={iduser:n.props.id,username:n.props.user.username,date:e.getDate()+"/"+e.getMonth()+"/"+e.getFullYear(),cart:n.props.cart,status:"Unpaid"};console.log("cek OBJ",t),n.props.cart.forEach((function(e,t){var a=n.props.product.findIndex((function(t){return t.id===e.idProduct})),l=n.props.product[a].stock.findIndex((function(t){return t.code===e.size}));n.props.product[a].stock[l].total-=e.qty,n.decrementStock(e.idProduct,{stock:n.props.product[a].stock})})),L.a.post(T+"/userTransactions",t).then((function(e){console.log("Checkout Success"),L.a.patch(T+"/users/".concat(n.props.id),{cart:[]}).then((function(e){console.log("success checkout",e.data),n.setState({redirectStatus:!0}),n.props.KeepLogin()})).catch((function(e){console.log(e)}))})).catch((function(e){console.log("Checkout Error")}))},n.state={selectedIdx:null},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return this.state.redirectStatus?l.a.createElement(m.a,{to:"/transaction"}):l.a.createElement("div",{className:"container"},l.a.createElement(ke.a,{hover:!0},l.a.createElement("thead",null,l.a.createElement("th",null,"No."),l.a.createElement("th",null,"Image"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Category"),l.a.createElement("th",null,"Size"),l.a.createElement("th",null,"Qty"),l.a.createElement("th",null,"Price"),l.a.createElement("th",null,"Total Price"),l.a.createElement("th",null,"Action")),l.a.createElement("tbody",null,this.renderCart()),l.a.createElement("tfoot",null,l.a.createElement("th",{colspan:"7"},"Total Payment"),l.a.createElement("th",null,"IDR. ",this.totalPayment()),l.a.createElement("td",null,l.a.createElement(k.a,{color:"success",onClick:function(){return e.btCheckout()}},"Checkout")))))}}]),a}(l.a.Component),De=Object(A.b)((function(e){return console.log("cekDataCart",e.authReducer),{user:e.authReducer,cart:e.authReducer.cart,id:e.authReducer.id,product:e.productReducers}}),{login:V,KeepLogin:G})(Te),Le=a(171),Ae=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getTransaction=function(){L.a.get(T+"/userTransactions?iduser=".concat(localStorage.getItem("id"))).then((function(e){console.log("userTransaction",e.data),n.setState({dbTransactions:e.data})})).catch((function(e){console.log(e)}))},n.renderDetail=function(e){return n.state.dbTransactions[e].cart.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("th",null,t+1),l.a.createElement("td",null,l.a.createElement("img",{src:e.images,alt:e.category,height:"100px"})),l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.category),l.a.createElement("td",null,e.size),l.a.createElement("td",null,e.qty),l.a.createElement("td",null,e.price.toLocaleString()),l.a.createElement("td",null,e.totalPrice.toLocaleString()))}))},n.totalPayment=function(e){var t=0;return n.state.dbTransactions[e].cart.forEach((function(e){t+=e.totalPrice})),t.toLocaleString()},n.renderTransactions=function(){return n.state.dbTransactions.map((function(e,t){return l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",{key:t},l.a.createElement("td",null,t+1),l.a.createElement("td",null,e.date),l.a.createElement("td",null,e.username),l.a.createElement("td",null,e.status),l.a.createElement("td",null,l.a.createElement(k.a,{style:{marginRight:10},id:"page".concat(t),color:"info"},"Detail"),l.a.createElement(k.a,{color:"primary",onClick:function(){return n.btPayment(e.id)}},"Payment"))),l.a.createElement("tr",null,l.a.createElement(Le.a,{toggler:"#page".concat(t)},l.a.createElement(ne.a,{key:t},l.a.createElement(ke.a,null,l.a.createElement("thead",null,l.a.createElement("th",null,"No."),l.a.createElement("th",null,"Product"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Category"),l.a.createElement("th",null,"Size"),l.a.createElement("th",null,"Qty"),l.a.createElement("th",null,"Price"),l.a.createElement("th",null,"Amount Price")),l.a.createElement("tbody",null,n.renderDetail(t)),l.a.createElement("tfoot",null,l.a.createElement("th",{colspan:"7"},"Total Payment"),l.a.createElement("th",null,"IDR. ",n.totalPayment(t))))))))}))},n.btPayment=function(e){L.a.patch(T+"/userTransactions/".concat(e),{status:"Paid"}).then((function(e){console.log("Paid Success",e.data),ve.a.fire({icon:"success",title:"Success",text:"Product Successfully Updated"}),n.getTransaction()})).catch((function(e){console.log(e)}))},n.state={dbTransactions:[]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getTransaction()}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(ke.a,{hover:!0},l.a.createElement("thead",null,l.a.createElement("th",null,"No"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Username"),l.a.createElement("th",null,"Status"),l.a.createElement("th",null,"Action")),l.a.createElement("tbody",null,this.renderTransactions())))}}]),a}(l.a.Component),Me=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getTransaction=function(){L.a.get(T+"/userTransactions").then((function(e){n.setState({dbTransactions:e.data})})).catch((function(e){console.log(e)}))},n.totalPrice=function(e){var t=0;return n.state.dbTransactions[e].cart.map((function(e){t+=e.totalPrice})),t},n.btDetail=function(e){return n.state.dbTransactions[e].cart.map((function(e){return l.a.createElement(g.a,{isOpen:!0},l.a.createElement(ne.a,null,l.a.createElement(re.a,null,"test")))}))},n.renderDetail=function(e){return n.state.dbTransactions[e].cart.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("th",null,t+1),l.a.createElement("td",null,l.a.createElement("img",{src:e.images,alt:e.category,height:"100px"})),l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.category),l.a.createElement("td",null,e.size),l.a.createElement("td",null,e.qty),l.a.createElement("td",null,e.price.toLocaleString()),l.a.createElement("td",null,e.totalPrice.toLocaleString()))}))},n.renderTransactions=function(){return n.state.dbTransactions.map((function(e,t){"toogler".concat(e.id);return l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",{key:t},l.a.createElement("td",null,t+1),l.a.createElement("td",null,e.date),l.a.createElement("td",null,e.username),l.a.createElement("td",null,"IDR. ",n.totalPrice(t).toLocaleString()),l.a.createElement("td",null,e.status),l.a.createElement("td",null,l.a.createElement(k.a,{style:{marginRight:10},id:"page".concat(t),color:"info"},"Detail"),l.a.createElement(k.a,{color:"Paid"!==e.status?"secondary":"primary",disabled:"Paid"!==e.status,onClick:function(){return n.btConfirm(e.id)}},"Success"!==e.status?"Confirm":"Done"))),l.a.createElement("tr",null,l.a.createElement(Le.a,{toggler:"#page".concat(t)},l.a.createElement(ne.a,{key:t},l.a.createElement(ke.a,null,l.a.createElement("thead",null,l.a.createElement("th",null,"No."),l.a.createElement("th",null,"Product"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Category"),l.a.createElement("th",null,"Size"),l.a.createElement("th",null,"Qty"),l.a.createElement("th",null,"Price"),l.a.createElement("th",null,"Amount Price")),l.a.createElement("tbody",null,n.renderDetail(t)),l.a.createElement("tfoot",null,l.a.createElement("th",{colspan:"7"},"Total Payment"),l.a.createElement("th",null,"IDR. ",n.totalPayment(t))))))))}))},n.totalPayment=function(e){var t=0;return n.state.dbTransactions[e].cart.forEach((function(e){t+=e.totalPrice})),t.toLocaleString()},n.btConfirm=function(e){L.a.patch(T+"/userTransactions/".concat(e),{status:"Success"}).then((function(e){ve.a.fire({icon:"success",title:"Success",text:"Payment Success"}),n.getTransaction()})).catch((function(e){console.log(e)}))},n.state={dbTransactions:[],collapsOpen:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getTransaction()}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(ke.a,null,l.a.createElement("thead",null,l.a.createElement("th",null,"No."),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Username"),l.a.createElement("th",null,"Total Price"),l.a.createElement("th",null,"Status"),l.a.createElement("th",null,"Action")),l.a.createElement("tbody",null,this.renderTransactions())))}}]),a}(l.a.Component),qe=(l.a.Component,function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getProducts=function(){L.a.get(T+"/products").then((function(e){console.log("GET Products: ",e.data),n.props.getProducts(e.data)})).catch((function(e){console.log("ERR getProducts: ",e)}))},n.state={dataUser:{}},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getProducts(),this.props.KeepLogin()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(K,{user:this.props.user}),l.a.createElement(m.d,null,l.a.createElement(m.b,{path:"/",component:te,exact:!0}),l.a.createElement(m.b,{path:"/product",component:ue}),l.a.createElement(m.b,{path:"/register",component:be}),l.a.createElement(m.b,{path:"/about",component:W}),l.a.createElement(m.b,{path:"/product-detail",component:Ce}),this.props.user.role&&"admin"===this.props.user.role?l.a.createElement(l.a.Fragment,null,l.a.createElement(m.b,{path:"/transaction-admin",component:Me}),l.a.createElement(m.b,{path:"/product-admin",component:we}),l.a.createElement(m.b,{path:"/carousel-admin",component:Ie})):l.a.createElement(l.a.Fragment,null,l.a.createElement(m.b,{path:"/cart",component:De}),l.a.createElement(m.b,{path:"/transaction",component:Ae})),l.a.createElement(m.b,{path:"*",component:Re})))}}]),a}(l.a.Component)),ze=Object(A.b)((function(e){return{user:e.authReducer}}),{login:V,getProducts:U,KeepLogin:G})(qe);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(136);var Ve=a(30),Ge=a(33),Ue={id:null,username:"",email:"",phone:"",role:"",cart:[]},Fe={slide:[]},_e=Object(Ve.c)({authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(Ge.a)(Object(Ge.a)({},e),{},{id:t.payload.id,username:t.payload.username,email:t.payload.email,phone:t.payload.phone,cart:t.payload.cart,role:t.payload.role});case"LOGOUT":return Ue;default:return e}},productReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTS":return console.log("Reducer products",t.payload),t.payload;default:return e}},slideReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_SLIDE":return console.log("Reducers slides",t.payload),Object(Ge.a)(Object(Ge.a)({},e),{},{slide:t.payload});default:return e}}}),Be=a(80),Ke=Object(Ve.d)(_e,{},Object(Ve.a)(Be.a));c.a.render(l.a.createElement(A.a,{store:Ke},l.a.createElement(d.a,null,l.a.createElement(ze,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},54:function(e,t,a){},82:function(e,t,a){e.exports=a(137)},87:function(e,t,a){}},[[82,1,2]]]);
//# sourceMappingURL=main.a65f6f13.chunk.js.map